{% extends "layout.html" %}
{% block content %}
    <div  class="genre-select-container">
        <label for="genre-select">Genre:</label>
        <select id="genre-select" onchange="redirectToPage(this.value)">

                <option value="{{genre_filter}}">{{genre_filter}}</option>
                {% for genre in genres %}
                <option value="{{ url_for('main.movies',genre_filter = genre) }}">{{genre}}</option>
                {% endfor %}
        </select>
    </div>   
    <div class="flashcard_movie">
        <div id="imageContainer" class="front image-container">
            <img id="contentImage" src ="{{ movie.still_imagery[0] }}" alt="Image">
        </div>
        <div class="back">
            <table>
                <tr>
                    <td>Name</td>
                    <td>{{ movie.primaryTitle }}</td>
                </tr>
                <tr>
                    <td>Year</td>
                    <td>{{ movie.startYear }}</td>
                </tr>
                <tr>
                    <td>Source</td>
                    <td>IMDb</td>
                </tr>
                <tr>
                    <td>Genre(s)</td>
                    <td>{{ movie.genres }}</td>
                </tr>
                <tr>
                    <td>Storyline</td>
                    <td>{{ movie.storyline }}</td>
                </tr>
            </table>
        </div>
    </div>  
    <div class="img-nav">    
        {% for image in movie.still_imagery %} 
            {% if loop.index == 1 %}
                <button class = "active" id="{{loop.index}}" value="{{image}}"  onclick="changeImage(this)">{{loop.index}} </button>
            {% else %}
                <button id="{{loop.index}}"  value="{{image}}" onclick="changeImage(this)">{{loop.index}} </button>
            {% endif %}
        {% endfor %}
    </div>    
    <div>
        <button class="generate-button" onclick="refreshPage()">Generate Random Movie</button>
    </div>
{% endblock content %}